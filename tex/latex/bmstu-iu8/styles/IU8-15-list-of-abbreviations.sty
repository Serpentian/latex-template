% Author: CatInCosmicSpace
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{IU8-15-list-of-abbreviations}[2025/06/10 v1.8 Содержание]

\RequirePackage[abbreviations]{glossaries-extra}

\GlsSetXdyCodePage{utf8}

\renewcommand{\glossarysection}[2][]{}

\newglossarystyle{definitions}{
    % longtable with three columns:
    \renewenvironment{theglossary}%
    {\begin{longtable}{p{0.3\textwidth}p{0.05\textwidth}p{0.56\textwidth}}}%
    {\end{longtable}}%
    % no header:
    \renewcommand*{\glossaryheader}{}%
    % no group headings:
    \renewcommand*{\glsgroupheading}[1]{}%
    % main (level 0) entries displayed in a row
    \renewcommand{\glossentry}[2]{%
        \glstarget{##1}{\glossentryname{##1}} &
        \textemdash &
        \glossentrydesc{##1}
        \tabularnewline
    }%
    % sub-entries (same as main)
    \renewcommand{\subglossentry}[3]{\glossentry{##2}{##3}}%
    \renewcommand*{\glsgroupskip}{}%
}

\newcommand{\listofabbreviations}{
    \structure{СПИСОК~ОБОЗНАЧЕНИЙ~И~СОКРАЩЕНИЙ}

    \abbreviationsLine

    \printunsrtglossary[
        style=definitions,
        type=\acronymtype
    ]
}
